<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Takeaway - Attendee View</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header style="text-align: center; margin-bottom: 3rem;">
            <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem; color: var(--foreground);">Takeaway</h1>
            <p style="font-size: 1.125rem; color: var(--muted-foreground);">Access presentation materials and summaries</p>
        </header>

        <main>
            <!-- Search and Filter Section -->
            <div class="card" style="margin-bottom: 2rem;">
                <div style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;">
                    <div style="flex: 1; min-width: 250px;">
                        <input 
                            type="text" 
                            id="searchInput" 
                            placeholder="Search presentations..." 
                            style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); background-color: var(--input); font-size: 1rem;"
                        />
                    </div>
                    <select 
                        id="filterSelect" 
                        style="padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); background-color: var(--input); font-size: 1rem;"
                    >
                        <option value="all">All Types</option>
                        <option value="pdf">PDF Documents</option>
                        <option value="presentation">Presentations</option>
                        <option value="video">Videos</option>
                    </select>
                    <button type="button" class="btn btn-secondary" id="refreshBtn">
                        <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                        </svg>
                        Refresh
                    </button>
                </div>
            </div>

            <!-- Loading State -->
            <div class="card" id="loadingState" style="text-align: center; padding: 3rem;">
                <div class="spinner" style="margin: 0 auto 1rem; width: 32px; height: 32px;"></div>
                <p style="color: var(--muted-foreground);">Loading presentations...</p>
            </div>

            <!-- Empty State -->
            <div class="card" id="emptyState" style="text-align: center; padding: 3rem; display: none;">
                <div style="width: 64px; height: 64px; margin: 0 auto 1rem; color: var(--muted-foreground);">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                </div>
                <h3 style="margin-bottom: 0.5rem; font-size: 1.25rem;">No presentations available</h3>
                <p style="color: var(--muted-foreground); margin-bottom: 1.5rem;">
                    Speakers haven't uploaded any materials yet.
                </p>
                <a href="speaker.html" class="btn btn-primary">
                    Go to Speaker Upload
                </a>
            </div>

            <!-- Files Grid -->
            <div id="filesGrid" style="display: grid; gap: 1.5rem; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));">
                <!-- File cards will be inserted here -->
            </div>

            <!-- Navigation -->
            <div style="text-align: center; margin-top: 3rem;">
                <a href="speaker.html" class="btn btn-secondary">
                    Upload New Presentation
                </a>
            </div>
        </main>
    </div>

    <!-- File Preview Modal -->
    <div id="previewModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); z-index: 1000; padding: 2rem;">
        <div style="max-width: 90%; max-height: 90%; margin: 0 auto; background-color: var(--background); border-radius: var(--radius); overflow: hidden; position: relative;">
            <div style="padding: 1rem; border-bottom: 1px solid var(--border); display: flex; justify-content: between; align-items: center;">
                <h3 id="previewTitle" style="margin: 0; flex: 1;">File Preview</h3>
                <button type="button" id="closePreview" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--muted-foreground);">Ã—</button>
            </div>
            <div id="previewContent" style="padding: 2rem; max-height: 70vh; overflow: auto;">
                <!-- Preview content will be inserted here -->
            </div>
        </div>
    </div>

    <script src="attendee.js"></script>
</body>
</html>
